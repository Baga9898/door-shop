# GUIDELINE

## Технический стек

- Языки программирования - [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript), [TypeScript](https://www.typescriptlang.org/)
- Библиотека создания UI - [Next.JS](https://nextjs.org/)
- Управление состоянием - [Redux Toolkit](https://redux-toolkit.js.org/)
- Препроцессор CSS - [SASS (SCSS)](https://sass-lang.com/)

## Система контроля версий

- Cистема контроля версий - [Git](https://git-scm.com/)
- Модель ветвления - [GitHub Flow](https://guides.github.com/introduction/flow/)

## Пакетный менджер

В качестве пакетного менеджера используется [npm](https://www.npmjs.com/).

## Версионирование

Для версионирования библиотек и компонентов используются принципы [Semantic Versioning](https://semver.org/).

## Качество кода

...

## Тестирование

...

## Архитектура

...

## Состояние

### Состояние приложения

Сущности являются частью модели данных приложения, которая в большинстве случаев отражает [модель предметной области](https://en.wikipedia.org/wiki/Domain_model) бизнеса и бизнес-процессов в частности.

Поскольку эти данные являются отражением основных сущностей модели предметной области, то называются они соответствующим образом (**Model**) и помещаются в отдельное поле нашего состояния:

```js
const state = {
  model: {
    doors: [],
    users: [],
  },
};
```

Эта часть состояния называется состоянием приложения (**Application State**).

Как и любое другое состояние, оно напрямую связано с тем что отображает наше приложение. Например:

1. Модератор создал новую дверь
2. Интерфейс вслед за изменением состояния обновился и отобразил новую дверь

### Состояние UI

На фронтенде существует состояние разнообразных блоков интерфейса - кнопки, формы, модальные окна и так далее.

Данный тип состояния отвечает исключительно за слой отображения, и называется состоянием интерфейса или состоянием представления (**UI State**).

Данный тип также определён как отдельное свойство общего стэйта (**View**), структура которого станет выглядеть следующим образом:

```js
const state = {
  model: {
    payments: [],
    accounts: [],
  },
  view: {
    loginPage: {
      loginForm: { isValidUser: false },
    },
    mainPage: {
      colorVidget: { hasError: false },
    },
  },
};
```

### Общее состояние

Части состояния которые не относятся ни к одной из вышеперечисленных частей допускается выносить в отдельные поля.

На примере данных хранящих состояние роутинга это может выглядеть следующим образом:

```js
const state = {
  model: {},
  view: {},
  router: {
    action: "...",
    location: "...",
  },
};
```

## Структура проекта

Для организации структуры проекта используется **feature**-подход, который является прямым отражением конкретной функциональности проекта. Например форма логина находится в директории `login-form` в которой сосредоточены все необходимые для данной функциональности сущности - `thunks.ts`, `selectors.ts`, `types.ts` и так далее.

Типичная структура директории компонента реализующего отдельную функциональность приложения может выглядеть следующим образом:

```
./client
  ./view
    ./login-page
      ./login-form
        constants.ts
        login-form.tsx
        selectors.ts
        slice.ts
        styles.scss
        thunks.ts
        types.ts
```

А так может выглядеть структура директории для отдельной части модели данных составляющих одноименную часть состояния:

```
./client
  ./model
    ./payments
      selectors.ts
      slice.ts
      thunks.ts
      types.ts
```

## Соглашение об именовании

### Файлы

Стиль именования файлов и директорий - [kebab-case](https://ru.wikipedia.org/wiki/Snake_case).

### CSS

Стиль именования классовых css-селекторов и атрибутов - [kebab-case](https://ru.wikipedia.org/wiki/Snake_case).

### Классы и компоненты

Стиль именования классов и компонентов - [CamelCase](https://ru.wikipedia.org/wiki/CamelCase).

### Переменные

Стиль именования переменных - [lowerCamelCase](https://ru.wikipedia.org/wiki/CamelCase).

### Константы

Стиль именования констант которые хранят данные известные до этапа выполнения кода приложения (словари, переменные окружения) - [SCREAMING_SNAKE_CASE](https://ru.wikipedia.org/wiki/Snake_case).

Именование текстовых констант не должно производиться путем перевода текста с русского на английский язык. При этом название должно отображать элемент, частью которого данный текст является. Например: `SEND_BUTTON_TEXT`, `AMOUNT_INPUT_LABEL` и так далее.

### Коммиты

Стиль именования коммитов - [Commitlint Config Conventional](https://github.com/conventional-changelog/commitlint/tree/master/@commitlint/config-conventional).

Коммит должен соответствовать следующим требованиям:

- везде английский язык
- в scope все буквы строчные
- в scope все слова в kebab-case
- в description нет точки в конце описания
- в description первая буква всегда строчная
- в description повелительное наклонение в настоящем времени ("change", а не "changed" или "changes")

Например:

    "fix(scope): some message" 

## Мониторинг

...

## Производительность

...
